"use strict";(self.webpackChunkACShop=self.webpackChunkACShop||[]).push([[132],{9132:(O,d,r)=>{r.r(d),r.d(d,{CartModule:()=>M});var s=r(4755),p=r(7179),u=r(5861),t=r(2223),g=r(4900),l=r(9401);function _(o,c){1&o&&(t.TgZ(0,"div",15)(1,"div",16)(2,"div",17),t._UZ(3,"i",18)(4,"br"),t.TgZ(5,"label"),t._uU(6,"No Item on cart"),t.qZA()()()())}function h(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"div",30)(1,"div",31)(2,"button",32),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().index,a=t.oxw();return t.KtG(a.delete(i))}),t._UZ(3,"i",33),t.qZA()(),t.TgZ(4,"div",34)(5,"button",35),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().index,a=t.oxw();return t.KtG(a.plusminus(!1,i))}),t._UZ(6,"i",36),t.qZA(),t._UZ(7,"input",37),t.TgZ(8,"button",35),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().index,a=t.oxw();return t.KtG(a.plusminus(!0,i))}),t._UZ(9,"i",38),t.qZA(),t.TgZ(10,"button",12),t.NdJ("click",function(){t.CHM(n);const i=t.oxw().index,a=t.oxw();return t.KtG(a.applyedit(i))}),t._UZ(11,"i",13),t.qZA()()()}if(2&o){const n=t.oxw().index,e=t.oxw();t.xp6(7),t.Q6J("value",e.edit_quantity[n])}}function f(o,c){if(1&o){const n=t.EpF();t.TgZ(0,"div",19)(1,"div",20),t._uU(2),t.qZA(),t.TgZ(3,"div",21),t._uU(4),t.qZA(),t.TgZ(5,"div",22)(6,"div",23)(7,"span",24),t._uU(8,"RM"),t.qZA(),t.TgZ(9,"span",25),t._uU(10),t.qZA()(),t.TgZ(11,"div",26),t._uU(12),t.qZA()(),t.TgZ(13,"div",27),t._uU(14),t.qZA(),t.TgZ(15,"div",28),t.NdJ("click",function(){const i=t.CHM(n),a=i.index,b=i.$implicit,v=t.oxw();return t.KtG(v.open_edit(a,b.quantity))}),t._uU(16," Edit "),t.qZA(),t.YNc(17,h,12,1,"div",29),t.qZA()}if(2&o){const n=c.$implicit,e=c.index,i=t.oxw();t.xp6(2),t.Oqu(n.item),t.xp6(2),t.Oqu(n.select),t.xp6(6),t.Oqu(n.unitprice.toFixed(2)),t.xp6(2),t.hij("Quantity: ",n.quantity,""),t.xp6(2),t.hij("Subtotal: RM ",(n.quantity*n.unitprice).toFixed(2),""),t.xp6(3),t.Q6J("ngIf",i.showEdit[e])}}function C(o,c){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.hij("(- RM ",n.voucher,")\xa0")}}const m=[{path:"",component:(()=>{class o{constructor(n){this.serv=n,this.showitems=[],this.showEdit=[],this.edit_quantity=[],this.total=0,this.voucher=0,this.vcode="",this.loadcart()}loadcart(){var n=this;return(0,u.Z)(function*(){n.showitems=[],n.showEdit=[],n.edit_quantity=[],n.total=0,n.voucher=0,n.vcode="",n.showitems=yield n.serv.readcart(),n.showEdit=new Array(n.showitems.length),n.showEdit.fill(!1),n.edit_quantity=new Array(n.showitems.length),n.edit_quantity.fill(1),n.caltotal()})()}open_edit(n,e){this.showEdit[n]||(this.edit_quantity[n]=e),this.showEdit[n]=!this.showEdit[n]}plusminus(n,e){n?++this.edit_quantity[e]:this.edit_quantity[e]>1&&--this.edit_quantity[e]}delete(n){var e=this;return(0,u.Z)(function*(){e.showitems=yield e.serv.delcart(n),e.showEdit[n]=!e.showEdit[n],e.caltotal()})()}applyedit(n){this.edit_quantity[n]!=this.showitems[n].quantity&&(this.showitems[n]=this.serv.modcart(n,this.edit_quantity[n]),this.showEdit[n]=!this.showEdit[n],this.caltotal())}caltotal(){this.showitems.length&&(this.total=0,this.showitems.forEach(n=>{this.total+=n.quantity*n.unitprice}),this.total>40&&(this.total=this.total-this.voucher))}applyvoucher(){"AS1818"==this.vcode?(this.voucher=40,this.caltotal(),this.serv.alert("Suscess apply voucher code","OK")):this.serv.alert(this.vcode?"Invalid voucher code":"Empty voucher code","Dismiss")}place_order(){this.serv.delallcart(),this.loadcart()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(g.m))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cart"]],decls:27,vars:5,consts:[[1,"top-toolbar"],[1,"icon-head"],[1,"fa","fa-shopping-cart"],[1,"header"],["class","w3-container",4,"ngIf"],[1,"cart-list"],["class","cart-item",4,"ngFor","ngForOf"],[1,"bottom-toolbar"],[1,"total-price"],[4,"ngIf"],[1,"row"],["type","text","placeholder","Enter voucher code",1,"voucher-input",3,"ngModel","ngModelChange"],[1,"apply-button",3,"click"],[1,"fa","fa-check"],[1,"place-button",3,"click"],[1,"w3-container"],[1,"w3-card-4","w3-panel","w3-center"],[1,"w3-border","w3-text-gray","w3-margin",2,"padding","50px"],[1,"fa","fa-shopping-cart","w3-xxxlarge"],[1,"cart-item"],[1,"name"],[1,"select"],[1,"details"],[1,"unit-price"],[1,"currency"],[1,"price"],[1,"quantity"],[1,"subtotal"],[1,"w3-large","w3-text-gray",3,"click"],["class","action-tab",4,"ngIf"],[1,"action-tab"],[1,"delete"],[1,"delete-button",3,"click"],[1,"fa","fa-trash"],[1,"action"],[1,"action-button",3,"click"],[1,"fa","fa-minus"],["type","number",1,"quantity-input",3,"value"],[1,"fa","fa-plus"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"i",2),t.qZA(),t.TgZ(3,"div",3),t._uU(4,"Cart"),t.qZA()(),t.YNc(5,_,7,0,"div",4),t.TgZ(6,"div",5),t.YNc(7,f,18,6,"div",6),t._UZ(8,"br")(9,"br")(10,"br")(11,"br")(12,"br")(13,"br")(14,"br")(15,"br"),t.qZA(),t.TgZ(16,"div",7)(17,"div",8),t.YNc(18,C,2,1,"span",9),t._uU(19),t.qZA(),t.TgZ(20,"div",10)(21,"input",11),t.NdJ("ngModelChange",function(a){return e.vcode=a}),t.qZA(),t.TgZ(22,"button",12),t.NdJ("click",function(){return e.applyvoucher()}),t._UZ(23,"i",13),t._uU(24," Apply"),t.qZA(),t.TgZ(25,"button",14),t.NdJ("click",function(){return e.place_order()}),t._uU(26,"Place Order"),t.qZA()()()),2&n&&(t.xp6(5),t.Q6J("ngIf",0==e.showitems.length),t.xp6(2),t.Q6J("ngForOf",e.showitems),t.xp6(11),t.Q6J("ngIf",e.voucher>0),t.xp6(1),t.hij("Total: RM ",e.total.toFixed(2),""),t.xp6(2),t.Q6J("ngModel",e.vcode))},dependencies:[l.Fj,l.JJ,l.On,s.sg,s.O5],styles:[".cart-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;margin-left:auto;margin-right:auto;margin-top:5px;max-width:980px;padding-left:10px;padding-right:10px}.cart-list[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{background-color:#fff;padding:20px;box-shadow:0 2px 6px #0000004d;border-radius:4px}.cart-list[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#333;margin-bottom:5px}.cart-list[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{font-size:16px;color:#666;margin-bottom:10px}.cart-list[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.cart-list[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .unit-price[_ngcontent-%COMP%], .cart-list[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:16px;font-weight:700;color:#4caf50}.cart-list[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .unit-price[_ngcontent-%COMP%]   .quantity-input[_ngcontent-%COMP%], .cart-list[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]   .quantity-input[_ngcontent-%COMP%]{width:40px;padding:4px;text-align:center;border:1px solid #ccc;border-radius:4px;margin-left:10px}.cart-list[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .unit-price[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{margin-right:5px}.subtotal[_ngcontent-%COMP%]{color:#03a9f4;text-align:right;font-weight:700;margin-top:10px;font-size:20px}.action-tab[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:16px}.action-tab[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{width:50%;text-align:center}.action-tab[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{width:100%;background-color:#f44336;color:#fff;border:none;padding:8px;font-size:20px}.action-tab[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:center;align-items:center}.action-tab[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{background-color:#ffc107;box-shadow:0 2px 6px #0000004d;color:#000;border:none;padding:8px;font-size:20px;margin-right:4px;margin-left:4px}.action-tab[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .quantity-input[_ngcontent-%COMP%]{width:40px;text-align:center;font-size:16px}.action-tab[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none;padding:8px;font-size:20px;margin-left:4px}.bottom-toolbar[_ngcontent-%COMP%]{box-shadow:0 2px 6px #0000004d;position:fixed;bottom:60px;left:0;width:100%;height:75px;background-color:#f2f2f2;display:flex;flex-direction:column;align-items:flex-end;justify-content:space-between;padding:10px}.bottom-toolbar[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]{color:#f44336;font-size:20px;font-weight:700;text-align:right}.bottom-toolbar[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end}.bottom-toolbar[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .voucher-input[_ngcontent-%COMP%]{padding:5px;border:none;border-radius:5px;margin-right:10px}.bottom-toolbar[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .apply-button[_ngcontent-%COMP%]{padding:5px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;margin-right:10px;cursor:pointer}.bottom-toolbar[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .place-button[_ngcontent-%COMP%]{padding:5px;background-color:#fdd835;color:#000;border:none;border-radius:5px;cursor:pointer}"]}),o})()}];let x=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.Bz.forChild(m),p.Bz]}),o})(),M=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[s.ez,x]}),o})()}}]);